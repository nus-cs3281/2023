<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 4.1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="/2023/markbind/css/bootstrap.min.css">
    <link rel="stylesheet" href="/2023/markbind/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="/2023/markbind/glyphicons/css/bootstrap-glyphicons.min.css">
    <link rel="stylesheet" href="/2023/markbind/css/octicons.css">
    <link rel="stylesheet" href="/2023/markbind/material-icons/material-icons.css">
    <link rel="stylesheet" href="/2023/markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="/2023/markbind/css/markbind.min.css"><script src="/2023/markbind/js/polyfill.min.js"></script>
    <script src="/2023/markbind/js/vue.min.js"></script>
    <script src="/2023/markbind/js/markbind.min.js"></script>
    <script src="knowledge.page-vue-render.js"></script>
    <script src="/2023/markbind/js/jquery.min.js"></script><link rel="stylesheet" href="/2023/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/2023/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/2023/stylesheets/main.css">
<link rel="icon" href="/2023/favicon.ico"></head>
<script>
  const baseUrl = '/2023'
</script>
<body >
<div id="app" data-server-rendered="true"><header fixed=""><div placement="top" data-v-15113a2f><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-primary" data-v-15113a2f><div class="container-fluid" data-v-15113a2f><div class="navbar-left" data-v-15113a2f><a href="/2023/index.html" title="Home" class="navbar-brand" data-v-15113a2f>CS3281&amp;2-2023/Students</a></div> <div class="navbar-default" data-v-15113a2f><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-15113a2f> <li class="nav-link dropdown" data-v-2e98b3f0><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle" data-v-2e98b3f0>CS3281</a> <ul class="dropdown-menu" data-v-2e98b3f0> <li data-v-2e98b3f0><a href="/2023/index.html" class="dropdown-item" data-v-2e98b3f0>Students</a></li> <li data-v-2e98b3f0><a href="/2023/students/knowledge.html" class="dropdown-item" data-v-2e98b3f0>Knowledge</a></li> <li data-v-2e98b3f0><a href="https://nus-cs3281.github.io/2023-dashboard/?search=&amp;sort=groupTitle&amp;sortWithin=title&amp;timeframe=commit&amp;mergegroup=&amp;groupSelect=groupByAuthors&amp;breakdown=false" class="dropdown-item" data-v-2e98b3f0>Code Dashboard</a></li></ul></li> <li class="nav-link dropdown" data-v-2e98b3f0><a role="button" data-bs-toggle="dropdown" class="dropdown-toggle" data-v-2e98b3f0>CS3282</a> <ul class="dropdown-menu" data-v-2e98b3f0> <li data-v-2e98b3f0><a href="/2023/cs3282-index.html" class="dropdown-item" data-v-2e98b3f0>Students</a></li> <li data-v-2e98b3f0><a href="/2023/students/talksSchedule.html" class="dropdown-item" data-v-2e98b3f0>Lightning Talks</a></li></ul></li> <li data-v-15113a2f><a href="/2023/instructions.html" class="nav-link" data-v-15113a2f>Instructions</a></li> <li data-v-15113a2f><a href="https://nus-cs3281.github.io/website/" class="nav-link" data-v-15113a2f>CS3281&amp;2 Website <span data-v-15113a2f><span aria-hidden="true" class="glyphicon glyphicon-share-alt" data-v-15113a2f></span></span></a></li></ul></div> <ul class="navbar-nav navbar-right" data-v-15113a2f><li data-v-15113a2f><a href="https://github.com/nus-cs3281/2023" class="nav-link" data-v-15113a2f><span data-v-15113a2f><span aria-hidden="true" class="fab fa-github" data-v-15113a2f></span></span></a></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-15113a2f><!----> <!----></div></div></header> <div id="flex-body"><div id="content-wrapper" class="fixed-header-padding"><h2 id="angular"><span id="angular" class="anchor"></span>Angular<a href="#angular" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>CATcher is an Angular web application.</p> <h3 id="aspects-learnt"><span id="aspects-learnt" class="anchor"></span>Aspects learnt<a href="#aspects-learnt" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <h4 id="angular-structure"><span id="angular-structure" class="anchor"></span>Angular Structure<a href="#angular-structure" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Components, services, corresponding html and css files work together to form a cohesive application. While a component is a direct representation of visible parts of an application, a service is more subtle in the sense that it runs in the background to provide services to components where needed. By defining the service in the constructor of a component or another service, the component or service is able to access the methods defined in the service freely. The separation of components and services increases modularity and reusability, as through dependency injection (DI), the service class can provide services to different parts of the application.</p> <p>RxJS stands for Reactive Extensions for Javascript. It supports reactive programming for Javascript, which allows changes in data to be propagated through the application instantly. Angular makes use of the RxJS library to support asynchronous programming and improve reactivity of an Angular application.</p> <p>RxJS supports <code class="hljs inline no-lang">Observables</code> and <code class="hljs inline no-lang">Observers</code>, allowing <code class="hljs inline no-lang">Observers</code> to receive updates on changes to the <code class="hljs inline no-lang">Observable</code> it subscribes to. This implementation is similar to <code class="hljs inline no-lang">Observables</code> and <code class="hljs inline no-lang">Observers</code> in other programming langugages such as Java.</p> <p>Pipes from the RxJS library are used very frequently in CATcher reduce clutter and improve readability of our codebase. It strings together operators in a sequence such that the operators can be applied to the given value in order.</p> <p>Example of custom operators using pipes in CATcher:</p> <pre><code class="hljs"><span>export function assertSessionDataIntegrity() {
</span><span>   return pipe(
</span><span>     throwIfFalse(sessionData =&gt; sessionData !== undefined,
</span><span>       () =&gt; new Error('Session Data Unavailable')),
</span><span>     throwIfFalse(isSessionDataCorrectlyDefined,
</span><span>       () =&gt; new Error('Session Data is Incorrectly Defined')),
</span><span>     throwIfFalse(hasOpenPhases,
</span><span>       () =&gt; new Error('There are no accessible phases.')));
</span><span> }
</span></code></pre><h5 id="knowledge-gained"><span id="knowledge-gained" class="anchor"></span>Knowledge Gained:<a href="#knowledge-gained" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h5> <ol><li>Enforcing separation of concerns in modules by splitting functions and logic into different components and services</li> <li>Using observables to enable asynchronous operations in our application</li> <li>Using pipes to efficiently transform data used in our application</li></ol> <h3 id="resources-used-and-amp-summary"><span id="resources-used-and-amp-summary" class="anchor"></span>Resources Used &amp; Summary<a href="#resources-used-and-amp-summary" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ol><li><a href="https://angular.io/guide/architecture">Angular Guide</a> : Official Angular developer guide and introduction to basic Angular topics</li> <li><a href="https://rxjs-dev.firebaseapp.com/guide/observable">RxJS Guide</a> : Official RxJS guide on Observables, Observers, Operators, Subscription, etc.</li> <li><a href="https://angular.io/guide/dependency-injection-navtree">Angular Guide on Navigation of Component Tree</a> : Guide on how to navigate the component tree with Dependency Injection</li></ol> <h4 id="angular-testbed-utility-component-dom-testing"><span id="angular-testbed-utility-component-dom-testing" class="anchor"></span>Angular TestBed Utility - Component DOM Testing<a href="#angular-testbed-utility-component-dom-testing" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>Angular's TestBed Utility allows us to set up component tests for different components used in CATcher.</p> <p>As opposed to our existing tests for testing individual functions within comoponents and services, these component tests allow us to inspect changes in the view of the component (which are caused by HTML changes). Hence, it gives us a way to look into UI-related problems users might face, something that our existing tests have not been able to achieve.</p> <p>Steps to set up component tests:</p> <ol><li>Configure the testing module through <code class="hljs inline no-lang">TestBed</code> function with the corresponding component's settings</li> <li>Use <code class="hljs inline no-lang">TestBed</code> function to create the component (fixture) to be tested</li> <li>Observe HTML changes in the fixture during testing of functions by querying HTML elements of the fixture</li></ol> <h5 id="knowledge-gained-2"><span id="knowledge-gained-2" class="anchor"></span>Knowledge Gained:<a href="#knowledge-gained-2" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h5> <ol><li>Setting up component tests using Angular TestBed Utility</li> <li>Inspecting HTML changes using Angular TestBed Utility</li></ol> <h3 id="resources-used-and-amp-summary-2"><span id="resources-used-and-amp-summary-2" class="anchor"></span>Resources Used &amp; Summary<a href="#resources-used-and-amp-summary-2" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ol><li><a href="https://angular.io/guide/testing-components-basics">Angular Guide - Basics of testing components</a> : Official Angular developer guide for the basics of component tests</li> <li><a href="https://angular.io/api/core/testing/ComponentFixture">Angular Guide - Component Fixture</a> : Official Angular developer guide on <code class="hljs inline no-lang">ComponentFixture</code></li> <li><a href="https://www.digitalocean.com/community/tutorials/angular-introduction-unit-testing#:~:text=Fixtures%20have%20access%20to%20a,Angular%20to%20run%20change%20detection.">Introduction to Unit Testing in Angular</a> : Useful article on how to test component fixtures</li></ol> <h2 id="jasmine-javascript-testing"><span id="jasmine-javascript-testing" class="anchor"></span>Jasmine (Javascript Testing)<a href="#jasmine-javascript-testing" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>CATcher follows the Jasmine Style for writing tests.</p> <h3 id="aspects-learnt-2"><span id="aspects-learnt-2" class="anchor"></span>Aspects learnt<a href="#aspects-learnt-2" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <h4 id="test-suite"><span id="test-suite" class="anchor"></span>Test Suite<a href="#test-suite" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>The very basics of Jasmine testing involves the test suite, which is started by calling the global Jasmine function <code class="hljs inline no-lang">describe</code>. The test suite may consist of several tests(specs) within itself, which is done by calling <code class="hljs inline no-lang">it</code>. Coming from Java background, one thing I learnt about Javascript testing was that it is descriptive (as the name <code class="hljs inline no-lang">describe</code> suggests), which makes it easier to understand the tests.</p> <h4 id="spy"><span id="spy" class="anchor"></span>Spy<a href="#spy" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>One distinctive aspect of Jasmine testing (or other Javascript testing frameworks such as Jest) is the <code class="hljs inline no-lang">Spy</code> object. It allows users to stub functions and keep track of useful information such as the number of calls to the function, parameters it has been called with, etc., which is very useful for testing different parts of a function under test thoroughly. For example, if function B is called within function A which is under test, the user is able to find out detailed information regarding how function B is called within A by creating a spy object of B. This allows testers to verify that B has indeed been called with the correct arguments correct number of times.</p> <h5 id="knowledge-gained-3"><span id="knowledge-gained-3" class="anchor"></span>Knowledge Gained:<a href="#knowledge-gained-3" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h5> <ol><li>Writing unit tests for different components and functions in Typescript</li> <li>Using Spy objects in tests to stub functions and improve quality and efficiency of tests</li></ol> <h3 id="resources-used-and-amp-summary-3"><span id="resources-used-and-amp-summary-3" class="anchor"></span>Resources Used &amp; Summary<a href="#resources-used-and-amp-summary-3" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ol><li><a href="https://jasmine.github.io/api/3.6/global">Official Jasmine documentation</a> : This is the official Jasmine documentation for Jasmine 3.6</li> <li><a href="https://jasmine.github.io/2.0/introduction.html">Introduction to Jasmine 2.0</a> : This is a good summary / introduction of Jasmine test features</li></ol> <h2 id="electron"><span id="electron" class="anchor"></span>Electron<a href="#electron" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>CATcher uses Electron for its Desktop application. Electron is a framework for building cross-platform desktop applications. It has allowed us to build a desktop app off our Angular web application codebase.</p> <h3 id="aspects-learnt-3"><span id="aspects-learnt-3" class="anchor"></span>Aspects learnt<a href="#aspects-learnt-3" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Electron uses the module <code class="hljs inline no-lang">ipcMain</code> to communicate to renderer processes from the main process. As an Event Emimtter, it is able to send out and listen for events, allowing inter-process communication within the Electron application (as the name suggests).</p> <p>Because it is a desktop application, it is important that we account for different operating systems in our code, since different operating systems would behave differently to changes in our application.</p> <p>Example of adapting application logic to Linux O.S.</p> <pre><code class="hljs"><span>  if (isLinuxOs()) {
</span><span>    // app icon needs to be set manually on Linux platforms
</span><span>    windowOptions['icon'] = ICON_PATH;
</span><span>  }
</span></code></pre><h5 id="knowledge-gained-4"><span id="knowledge-gained-4" class="anchor"></span>Knowledge Gained:<a href="#knowledge-gained-4" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h5> <ol><li>Understanding behaviours and characterisitics of different operating systems</li> <li>Adapting application logic to different operating systems</li></ol> <h3 id="resources-used-and-amp-summary-4"><span id="resources-used-and-amp-summary-4" class="anchor"></span>Resources Used &amp; Summary<a href="#resources-used-and-amp-summary-4" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ol><li><a href="https://www.electronjs.org/docs/tutorial">Official Electron Guide</a> : This is the official Electron documentation</li></ol> <h2 id="github-authentication"><span id="github-authentication" class="anchor"></span>Github Authentication<a href="#github-authentication" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>CATcher uses OAuth 2.0 Protocol to authenticate users. Users are required to log into their Github accounts before they can start using CATcher.</p> <h3 id="aspects-learnt-4"><span id="aspects-learnt-4" class="anchor"></span>Aspects learnt<a href="#aspects-learnt-4" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <h4 id="web-application-authorization-flow"><span id="web-application-authorization-flow" class="anchor"></span>Web Application Authorization Flow<a href="#web-application-authorization-flow" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <p>The basic flow is as follows:</p> <ol><li>CATcher opens a separate window that navigates to GitHub for login.</li> <li>Once Github verifies the user's identity, the user is redirected to CATcher with a temporary authorization code.</li> <li>CATcher exchanges the code for the access token, which allows CATcher to access Github API within CATcher.</li></ol> <p>The above authorization process works perfectly fine when it comes to verifying a user's identity and accessing Github API, however there is a security flaw.</p> <p>This authentication process is vulnerable to cross-site request forgery (CSRF) attacks, which compromises users' privacy and security.</p> <p>CSRF attack as a broad term refers to an attack that tricks a victim into doing things on a website in which they are currently authenticated by causing the victim to send a malicious request to the website server.</p> <p>In the case of CATcher specifically, during the authentication process of a user, an attacker can send their own authentication session ID to CATcher before CATcher can receive the actual response for the user from Github. This tricks CATcher into thinking that the user has been authenticated, and allows the user into CATcher, using the attacker's Github account. This means that whatever information the user uploads onto Github through CATcher would instead be uploaded to the attacker's Github account, instead of the user's.</p> <p>What we can do to prevent this attack is to add the <code class="hljs inline no-lang">state</code> parameter in our authentication process. In our first step, before navigating to Github, CATcher can generate a random string called <code class="hljs inline no-lang">state</code> (high entropy needs to be ensured for security) and send it to Github together with other details. Upon authenticating the user, Github will then send back the <code class="hljs inline no-lang">state</code> parameter to CATcher, and this allows CATcher to check the returned <code class="hljs inline no-lang">state</code> parameter against the sent <code class="hljs inline no-lang">state</code>. If the <code class="hljs inline no-lang">state</code> parameters do not match, it might point at a potential CSRF attack, as Github will definitely return us the correct state. CATcher will then ignore the response and wait until the correct <code class="hljs inline no-lang">state</code> is received.</p> <h5 id="knowledge-gained-5"><span id="knowledge-gained-5" class="anchor"></span>Knowledge Gained:<a href="#knowledge-gained-5" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h5> <ol><li>Understanding the authentication process for OAuth 2.0</li> <li>Improving security of an authentication process by adding <code class="hljs inline no-lang">state</code> parameter</li></ol> <h3 id="resources-used-and-amp-summary-5"><span id="resources-used-and-amp-summary-5" class="anchor"></span>Resources Used &amp; Summary<a href="#resources-used-and-amp-summary-5" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ol><li><a href="https://docs.github.com/en/developers/apps/authorizing-oauth-apps">Github Docs</a> : Github Documentation on authorizing OAuth applications</li> <li><a href="https://www.youtube.com/watch?v=_xrhWLqX1j0">OAuth CSRF &amp; the 'state' parameter</a> : A short video on how CSRF attacks can diminish security of an application and how state paramters can prevent CSRF attacks</li> <li><a href="https://owasp.org/www-community/attacks/csrf">Cross-site request forgery (CSRF)</a> : An article on how CSRF attacks occur</li></ol> <i id="scroll-top-button" onclick="handleScrollTop()" aria-hidden="true" class="fa fa-arrow-circle-up fa-lg d-print-none"></i></div> <nav id="page-nav" class="fixed-header-padding" data-v-e8c82f88><div class="nav-component slim-scroll" data-v-e8c82f88></div> <!----></nav></div> <footer><div class="text-center"><p>[<strong>This site was generated using <img src="https://markbind.org/favicon.ico" width="25"> <a href="https://markbind.org/">MarkBind 4.1.0</a></strong> on Tue, May 2, 2023, 2:23:27 PM UTC]<br> <span class="dimmed"><small><small>favicon.ico of this site was made by <a href="https://www.flaticon.com/authors/smashicons" title="Smashicons">Smashicons</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></small></small></span></p></div></footer></div>
</body><script src="/2023/markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
